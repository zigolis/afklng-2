<header>Check-in</header>
<section class="check-in">
    <h2 class="title">Retrieve your booking</h2>
    <p class="introduction">
      You can find your booking by filling out your family name and the booking code in your booking confirmation
    </p>

    <form novalidate [formGroup]="booking" (ngSubmit)="onSubmit(booking)">
        <label class="input-group input-code" [class.invalid]="booking.controls.name.touched && booking.controls.code.invalid">
            <span>Booking code</span>
            <input type="text" name="code" formControlName="code" tabindex="1" />

            <div class="form-error-wrapper">
                <div class="form-error" *ngIf="isCodeEmpty">Code is required</div>
                <div class="form-error" *ngIf="isCodeOutOfBounds">Code must have 5 to 6 characters</div>
                <div class="form-error" *ngIf="isCodeInvalid">Code must have only letters and numbers</div>
            </div>
        </label>

        <label class="input-group" [class.invalid]="booking.controls.name.touched && booking.controls.name.invalid">
            <span>Family name</span>
            <input type="text" name="name" formControlName="name" tabindex="2" />

            <div class="form-error-wrapper">
                <div class="form-error" *ngIf="isNameEmpty">Name is required</div>
                <div class="form-error" *ngIf="isNameOutOfBounds">Name length must be between 2 and 30</div>
                <div class="form-error" *ngIf="isNameInvalid">Only letters allowed</div>
            </div>
        </label>

        <div class="btn-wrapper">
            <input type="submit" class="btn-primary" tabindex="3" value="Retrieve booking" [disabled]="booking.invalid" />
        </div>
    </form>

    <div class="result" [class.show]="!!bookingDetails">
      <pre>{{ bookingDetails | json }}</pre>
      <pre>{{ apiError | json }}</pre>

      <div class="btn-wrapper">
        <button type="button" class="btn-primary" tabindex="4" (click)="onGoBack()">Go back</button>
      </div>
    </div>
</section>
